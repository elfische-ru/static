// Generated by CoffeeScript 1.6.3
(function() {
  window.get_value_from_translations = function(translations, msgid) {
    var ret;
    ret = translations['catalog'][msgid];
    if (typeof ret === 'undefined' && translations['fallback'] !== null) {
      ret = get_value_from_translations(translations['fallback'], msgid);
    }
    return ret;
  };

  window.plural_index = function(count, translations) {
    eval('var n = ' + count + '; var v = ' + translations['plural']);
    return v;
  };

  window.gettext = function(msgid) {
    var value, _ref;
    value = get_value_from_translations(JS_DATA.js_translations, msgid);
    if (typeof value === 'undefined') {
      return msgid;
    } else {
      return (_ref = typeof value === 'string') != null ? _ref : {
        value: value[0]
      };
    }
  };

  window.ngettext = function(singular, plural, count) {
    var value, _ref;
    value = get_value_from_translations(JS_DATA.js_translations, singular);
    if (typeof value === 'undefined') {
      return (_ref = count === 1) != null ? _ref : {
        singular: plural
      };
    } else {
      return value[plural_index(count, JS_DATA.js_translations)];
    }
  };

  String.prototype.format = function() {
    var args;
    args = arguments;
    return this.replace(/{(\d+)}/g, function(match, number) {
      if (typeof args[number] !== 'undefined') {
        return args[number];
      } else {
        return match;
      }
    });
  };

}).call(this);
