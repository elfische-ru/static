// Generated by CoffeeScript 1.6.3
(function() {
  $(document).ready(function() {
    var add_notice, channel;
    add_notice = function(msg) {
      return $('.section.messages').append($('<div>').addClass('message').append(msg));
    };
    channel = new goog.appengine.Channel(JS_DATA.user_tocken);
    $('#clear_db').click(function() {
      var url;
      url = '/admin/api/clear_db';
      return $.ajax({
        url: url,
        success: function(data) {
          return add_notice(data.message);
        }
      });
    });
    return $('.section.add_messages :submit').click(function(click_env) {
      var form_data;
      click_env.preventDefault();
      form_data = new FormData($('.section.add_messages form')[0]);
      return $.ajax({
        url: '/admin/api/add_messages',
        type: 'POST',
        success: function(env) {
          return add_notice(env.message);
        },
        data: form_data,
        cache: false,
        contentType: false,
        processData: false
      });
    });
  });

}).call(this);
